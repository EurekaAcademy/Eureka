{% extends "dashboard/base.html" %}{% load static wagtailcore_tags %}{% load wagtailuserbar %} {% load static %}{% load wagtailimages_tags %}

{% block dynamic_svg %}
<canvas id="progress" width="70" height="70"></canvas>
{% endblock dynamic_svg %}
{% block content %}
<div class="pusher dashFlowContent">
    <div class="ui one column grid">
        <div class="column dashboardPaddingBottomContainer">
            <div class="ui basic segment">
                <div class="ui centered padded grid">
                    <div class="center aligned sixteen wide column" style="padding-top: 2rem;">
                        <h3 class="ui header">Complete these four steps to enroll</h3>
                    </div>
                    <div class="two column row" style="padding-top: 0.5rem; padding-bottom: 0.5rem;">
                        <div class="two wide column">
                            <div class="progress-step progress-active"></div>
                            <!-- <div class="progress-line"></div> -->
                        </div>
                        <div class="fourteen wide column">
                            <div class="accordion ui dashboard-collapsible-card">
                                {% if profile_percentage_progress == 100 %}
                                <div class="active title" style="padding: 0px;">
                                    <svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="clipboard-list-check" class="icon-inactive card-icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" style="height: 30px;"><path fill="currentColor" d="M336 64h-88.6c.4-2.6.6-5.3.6-8 0-30.9-25.1-56-56-56s-56 25.1-56 56c0 2.7.2 5.4.6 8H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 32c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm160 432c0 8.8-7.2 16-16 16H48c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16h48v20c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12V96h48c8.8 0 16 7.2 16 16v352zM112 328c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zm168 8H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zm-153.8-65.6l64.2-63.6c2.1-2.1 2.1-5.5 0-7.6l-12.6-12.7c-2.1-2.1-5.5-2.1-7.6 0l-47.6 47.2-20.6-20.9c-2.1-2.1-5.5-2.1-7.6 0l-12.7 12.6c-2.1 2.1-2.1 5.5 0 7.6l37.1 37.4c1.9 2.1 5.3 2.1 7.4 0zM280 240h-77.6l-32.3 32H280c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8z"></path></svg>
                                    <h3 class="header-title title-inactive">Application Completed - Kindly proceed to payment</h3>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" style="fill: rgb(125, 245, 125);transform: ;msFilter:; margin-top: -15px; margin-left: 10px;"><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm-1.999 14.413-3.713-3.705L7.7 11.292l2.299 2.295 5.294-5.294 1.414 1.414-6.706 6.706z"></path></svg>
                                </div>
                                {% else %}
                                <div class="active title" style="padding: 0px;">
                                    <svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="clipboard-list-check" class="icon-active card-icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" style="height: 30px;"><path fill="currentColor" d="M336 64h-88.6c.4-2.6.6-5.3.6-8 0-30.9-25.1-56-56-56s-56 25.1-56 56c0 2.7.2 5.4.6 8H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 32c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm160 432c0 8.8-7.2 16-16 16H48c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16h48v20c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12V96h48c8.8 0 16 7.2 16 16v352zM112 328c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zm168 8H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zm-153.8-65.6l64.2-63.6c2.1-2.1 2.1-5.5 0-7.6l-12.6-12.7c-2.1-2.1-5.5-2.1-7.6 0l-47.6 47.2-20.6-20.9c-2.1-2.1-5.5-2.1-7.6 0l-12.7 12.6c-2.1 2.1-2.1 5.5 0 7.6l37.1 37.4c1.9 2.1 5.3 2.1 7.4 0zM280 240h-77.6l-32.3 32H280c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8z"></path></svg>
                                    <h3 class="header-title">Application</h3>
                                    <svg width="15" height="9" viewBox="0 0 15 9" fill="none" xmlns="http://www.w3.org/2000/svg" class="header-collapsible-arrow icon-inactive"><path d="M13.9309 1.08125L13.7079 0.859378C13.5603 0.712503 13.3216 0.712503 13.1739 0.859378L7.03615 6.96875L0.895228 0.859378C0.747594 0.712503 0.508868 0.712503 0.361234 0.859378L0.138214 1.08125C-0.00941964 1.22813 -0.00941964 1.46563 0.138214 1.6125L6.76601 8.20938C6.91364 8.35625 7.15237 8.35625 7.3 8.20938L13.9278 1.6125C14.0786 1.46563 14.0786 1.22813 13.9309 1.08125Z" fill="black"></path></svg>
                                </div>
                                {% endif %}
                                {% if profile_percentage_progress == 100 %}
                                <div class="content inactive"></div>
                                {% else %}
                                <div class="content active" style="text-align: center;">
                                    <div class="ui fitted divider header-divider"></div>
                                    <div class="dashboard-card-content">
                                        <p>You haven't entered your background information yet. Let's get started!</p>
                                        <a class="ui primary button" href="{% url 'dashboard:application' %}">Continue Application</a>
                                    </div>
                                </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <!-- <div class="two column row" style="padding-top: 0.5rem; padding-bottom: 0.5rem;">
                        <div class="two wide column">
                            <div class="progress-step "></div>
                            <div class="progress-line"></div>
                        </div>
                        <div class="fourteen wide column">
                            <div class="ui accordion dashboard-collapsible-card">
                                <div class="title" style="padding: 0px;">
                                    <svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="head-side-brain" class="icon-inactive card-icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 30px;"><path fill="currentColor" d="M509.21 275c-20.94-47.12-48.44-151.73-73.08-186.75A207.94 207.94 0 0 0 266.09 0H200C95.47 0 4.12 80.08.14 184.55A191.3 191.3 0 0 0 64 334.82V504a8 8 0 0 0 8 8h16a8 8 0 0 0 8-8V320.54L85.36 311a159.67 159.67 0 0 1-53.25-125.23C35.35 101 110.66 32 200 32h66.08A176.08 176.08 0 0 1 410 106.66c12.52 17.8 29.11 66.74 42.45 106.07 9.73 28.71 18.93 55.83 27.57 75.27H416v96a32 32 0 0 1-32 32h-96v88a8 8 0 0 0 8 8h16a8 8 0 0 0 8-8v-56h64a64 64 0 0 0 64-64v-64h32a32 32 0 0 0 29.21-45zM313.6 192c21.21 0 38.4-16.48 38.4-36.8s-17.19-36.8-38.4-36.8H311a38.09 38.09 0 0 0-35.8-25.6c-7.1 0-13.38 2.45-19.08 5.81C249.35 87.68 237.8 80 224 80s-25.34 7.68-32.11 18.61c-5.71-3.36-12-5.81-19.09-5.81a38.4 38.4 0 0 0-38.4 38.4A38.4 38.4 0 0 0 96 169.6c0 16.85 11 30.74 26.11 35.92-.06.86-.51 1.6-.51 2.48a38.4 38.4 0 0 0 38.4 38.4 37.91 37.91 0 0 0 12.8-2.58V288H224v-44.18a37.91 37.91 0 0 0 12.8 2.58 38.4 38.4 0 0 0 38.4-38.4 37.84 37.84 0 0 0-3.73-16z"></path></svg>
                                    <h3 class="header-title title-inactive">Assessment</h3>
                                    <svg width="15" height="9" viewBox="0 0 15 9" fill="none" xmlns="http://www.w3.org/2000/svg" class="header-collapsible-arrow icon-inactive"><path d="M13.9309 1.08125L13.7079 0.859378C13.5603 0.712503 13.3216 0.712503 13.1739 0.859378L7.03615 6.96875L0.895228 0.859378C0.747594 0.712503 0.508868 0.712503 0.361234 0.859378L0.138214 1.08125C-0.00941964 1.22813 -0.00941964 1.46563 0.138214 1.6125L6.76601 8.20938C6.91364 8.35625 7.15237 8.35625 7.3 8.20938L13.9278 1.6125C14.0786 1.46563 14.0786 1.22813 13.9309 1.08125Z" fill="black"></path></svg>
                                </div>
                                <div class="content" style="text-align: center;">
                                    <div class="ui fitted divider header-divider"></div>
                                    <div class="dashboard-card-content">
                                        <p>When you've finished your application you'll need to answer 20 critical thinking questions.</p>
                                        <button class="ui disabled button" disabled="" tabindex="-1">Start Assessment</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="two column row" style="padding-top: 0.5rem; padding-bottom: 0.5rem;">
                        <div class="two wide column">
                            <div class="progress-step "></div>
                            <div class="progress-line"></div>
                        </div>
                        <div class="fourteen wide column">
                            <div class="accordion ui dashboard-collapsible-card">
                                <div class="title" style="padding: 0px;">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="icon-inactive card-icon" style="height: 30px;"><path fill="currentColor" d="M560.9 136L536 111.1c-20.25-20.25-53-20.25-73.25 0L303.5 269.8C273.4 299.8 256.1 341.3 256 383.8c-3.875-.25-7.5-2.387-9.375-6.262c-11.88-23.88-46.25-30.38-66-14.12l-13.88-41.63C163.5 311.9 154.4 305.3 144 305.3s-19.5 6.625-22.75 16.5L103 376.4C101.5 381 97.25 384 92.38 384H80C71.13 384 64 391.1 64 400S71.13 416 80 416h12.4c18.62 0 35.1-11.88 40.98-29.5L144 354.6L160.8 405C165.4 418.6 184 419.9 190.3 407.1l7.749-15.38c4-8 15.69-8.5 20.19 .375C225.4 406.6 239.9 415.7 256 415.9L288 416c66.84 0 112.1-46.3 114.1-47.5l158.8-159.3C570.6 199.5 576 186.4 576 172.6C576 158.8 570.6 145.8 560.9 136zM379.5 346C355.3 370.3 322.4 383.9 288 383.9c0-34.38 13.75-67.32 37.1-91.44l120.6-119.9l52.75 52.75L379.5 346zM538.3 186.6L517 207.8L464.3 155l21.12-21.25c7.75-7.625 20.25-7.749 28 0l24.88 24.88C545.9 166.4 545.9 178.9 538.3 186.6zM364.4 448c-6.629 0-13.1 3.795-15.2 10.1C344.1 470.8 333 480 318.1 480h-255.2c-17.62 0-31.89-14.33-31.89-32V64c0-17.67 14.28-32 31.89-32h127.6v112c0 26.51 21.42 48 47.84 48h64.07c8.652 0 15.66-7.037 15.66-15.72V175.7C318.1 167 311.9 160 303.3 160H239.2C230.4 160 223.3 152.8 223.3 144V34.08c4.461 1.566 8.637 3.846 12.08 7.299l89.85 90.14c6.117 6.139 16.04 6.139 22.15 0L347.7 131.1c6.117-6.139 6.117-16.09 0-22.23L257.9 18.75C245.9 6.742 229.7 0 212.8 0H63.93C28.7 0 0 28.65 0 64l.0065 384c0 35.35 28.7 64 63.93 64h255c28.2 0 52.12-18.36 60.55-43.8C382.8 458.2 374.9 448 364.4 448z"></path></svg>
                                    <h3 class="header-title title-inactive">Enrollment</h3>
                                    <svg width="15" height="9" viewBox="0 0 15 9" fill="none" xmlns="http://www.w3.org/2000/svg" class="header-collapsible-arrow icon-inactive"><path d="M13.9309 1.08125L13.7079 0.859378C13.5603 0.712503 13.3216 0.712503 13.1739 0.859378L7.03615 6.96875L0.895228 0.859378C0.747594 0.712503 0.508868 0.712503 0.361234 0.859378L0.138214 1.08125C-0.00941964 1.22813 -0.00941964 1.46563 0.138214 1.6125L6.76601 8.20938C6.91364 8.35625 7.15237 8.35625 7.3 8.20938L13.9278 1.6125C14.0786 1.46563 14.0786 1.22813 13.9309 1.08125Z" fill="black"></path></svg>
                                </div>
                                <div class="content" style="text-align: center;">
                                    <div class="ui fitted divider header-divider"></div>
                                    <div class="dashboard-card-content">
                                        <p>Once you've completed the application and assessment the next step is to choose a financial plan and confirm your Enrollment Agreement.</p>
                                        <button class="ui disabled button" disabled="" tabindex="-1">Choose Financial Plan</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> -->
                    <div class="two column row" style="padding-top: 0.5rem; padding-bottom: 0.5rem;">
                        <div class="two wide column">
                            <div class="progress-step "></div>
                        </div>
                        <div class="fourteen wide column">
                            <div class="accordion ui dashboard-collapsible-card">
                                {% if profile.payment_completed == True %}
                                <div class="title" style="padding: 0px;">
                                    <svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="file-invoice-dollar" class="icon-inactive card-icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" style="height: 30px;"><path fill="currentColor" d="M219.09 327.42l-45-13.5c-5.16-1.55-8.77-6.78-8.77-12.73 0-7.27 5.3-13.19 11.8-13.19h28.11c4.56 0 8.96 1.29 12.82 3.72 3.24 2.03 7.36 1.91 10.13-.73l11.75-11.21c3.53-3.37 3.33-9.21-.57-12.14-9.1-6.83-20.08-10.77-31.37-11.35V232c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v24.12c-23.62.63-42.67 20.55-42.67 45.07 0 19.97 12.98 37.81 31.58 43.39l45 13.5c5.16 1.55 8.77 6.78 8.77 12.73 0 7.27-5.3 13.19-11.8 13.19h-28.11c-4.56 0-8.96-1.29-12.82-3.72-3.24-2.03-7.36-1.91-10.13.73l-11.75 11.21c-3.53 3.37-3.33 9.21.57 12.14 9.1 6.83 20.08 10.77 31.37 11.35V440c0 4.42 3.58 8 8 8h16c4.42 0 8-3.58 8-8v-24.12c23.62-.63 42.67-20.54 42.67-45.07 0-19.97-12.98-37.81-31.58-43.39zM72 96h112c4.42 0 8-3.58 8-8V72c0-4.42-3.58-8-8-8H72c-4.42 0-8 3.58-8 8v16c0 4.42 3.58 8 8 8zm120 56v-16c0-4.42-3.58-8-8-8H72c-4.42 0-8 3.58-8 8v16c0 4.42 3.58 8 8 8h112c4.42 0 8-3.58 8-8zm177.9-54.02L286.02 14.1c-9-9-21.2-14.1-33.89-14.1H47.99C21.5.1 0 21.6 0 48.09v415.92C0 490.5 21.5 512 47.99 512h288.02c26.49 0 47.99-21.5 47.99-47.99V131.97c0-12.69-5.1-24.99-14.1-33.99zM256.03 32.59c2.8.7 5.3 2.1 7.4 4.2l83.88 83.88c2.1 2.1 3.5 4.6 4.2 7.4h-95.48V32.59zm95.98 431.42c0 8.8-7.2 16-16 16H47.99c-8.8 0-16-7.2-16-16V48.09c0-8.8 7.2-16.09 16-16.09h176.04v104.07c0 13.3 10.7 23.93 24 23.93h103.98v304.01z"></path></svg>
                                    <h3 class="header-title title-inactive">Payment Completed</h3>
                                    <svg width="15" height="9" viewBox="0 0 15 9" fill="none" xmlns="http://www.w3.org/2000/svg" class="header-collapsible-arrow icon-inactive"><path d="M13.9309 1.08125L13.7079 0.859378C13.5603 0.712503 13.3216 0.712503 13.1739 0.859378L7.03615 6.96875L0.895228 0.859378C0.747594 0.712503 0.508868 0.712503 0.361234 0.859378L0.138214 1.08125C-0.00941964 1.22813 -0.00941964 1.46563 0.138214 1.6125L6.76601 8.20938C6.91364 8.35625 7.15237 8.35625 7.3 8.20938L13.9278 1.6125C14.0786 1.46563 14.0786 1.22813 13.9309 1.08125Z" fill="black"></path></svg>
                                </div>
                                {% else %}
                                <div class="title" style="padding: 0px;">
                                    <svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="file-invoice-dollar" class="icon-active card-icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" style="height: 30px;"><path fill="currentColor" d="M219.09 327.42l-45-13.5c-5.16-1.55-8.77-6.78-8.77-12.73 0-7.27 5.3-13.19 11.8-13.19h28.11c4.56 0 8.96 1.29 12.82 3.72 3.24 2.03 7.36 1.91 10.13-.73l11.75-11.21c3.53-3.37 3.33-9.21-.57-12.14-9.1-6.83-20.08-10.77-31.37-11.35V232c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v24.12c-23.62.63-42.67 20.55-42.67 45.07 0 19.97 12.98 37.81 31.58 43.39l45 13.5c5.16 1.55 8.77 6.78 8.77 12.73 0 7.27-5.3 13.19-11.8 13.19h-28.11c-4.56 0-8.96-1.29-12.82-3.72-3.24-2.03-7.36-1.91-10.13.73l-11.75 11.21c-3.53 3.37-3.33 9.21.57 12.14 9.1 6.83 20.08 10.77 31.37 11.35V440c0 4.42 3.58 8 8 8h16c4.42 0 8-3.58 8-8v-24.12c23.62-.63 42.67-20.54 42.67-45.07 0-19.97-12.98-37.81-31.58-43.39zM72 96h112c4.42 0 8-3.58 8-8V72c0-4.42-3.58-8-8-8H72c-4.42 0-8 3.58-8 8v16c0 4.42 3.58 8 8 8zm120 56v-16c0-4.42-3.58-8-8-8H72c-4.42 0-8 3.58-8 8v16c0 4.42 3.58 8 8 8h112c4.42 0 8-3.58 8-8zm177.9-54.02L286.02 14.1c-9-9-21.2-14.1-33.89-14.1H47.99C21.5.1 0 21.6 0 48.09v415.92C0 490.5 21.5 512 47.99 512h288.02c26.49 0 47.99-21.5 47.99-47.99V131.97c0-12.69-5.1-24.99-14.1-33.99zM256.03 32.59c2.8.7 5.3 2.1 7.4 4.2l83.88 83.88c2.1 2.1 3.5 4.6 4.2 7.4h-95.48V32.59zm95.98 431.42c0 8.8-7.2 16-16 16H47.99c-8.8 0-16-7.2-16-16V48.09c0-8.8 7.2-16.09 16-16.09h176.04v104.07c0 13.3 10.7 23.93 24 23.93h103.98v304.01z"></path></svg>
                                    <h3 class="header-title title-active">Billing</h3>
                                    <svg width="15" height="9" viewBox="0 0 15 9" fill="none" xmlns="http://www.w3.org/2000/svg" class="header-collapsible-arrow icon-active"><path d="M13.9309 1.08125L13.7079 0.859378C13.5603 0.712503 13.3216 0.712503 13.1739 0.859378L7.03615 6.96875L0.895228 0.859378C0.747594 0.712503 0.508868 0.712503 0.361234 0.859378L0.138214 1.08125C-0.00941964 1.22813 -0.00941964 1.46563 0.138214 1.6125L6.76601 8.20938C6.91364 8.35625 7.15237 8.35625 7.3 8.20938L13.9278 1.6125C14.0786 1.46563 14.0786 1.22813 13.9309 1.08125Z" fill="black"></path></svg>
                                </div>
                                {% endif %}
                                {% if profile.payment_completed == True %}
                                <div class="content inactive"></div>
                                {% else %}
                                <div class="content active" style="text-align: center;">
                                    <div class="ui fitted divider header-divider"></div>
                                    <div class="dashboard-card-content">
                                        <h3>Course Info:</h3>
                                        <p><b>Course:</b> <span>{{profile.schedule.course.course}}</span></p>
                                        <p><b>Level:</b> <span>{{profile.schedule.course.course_level}}</span></p>
                                        <p><b>Price:</b> <span>${{profile.schedule.course.price}}</span></p>
                                        <h3>Billing Info:</h3>
                                        <p><b>Email:</b> <span>{{profile.user.email}}</span></p>
                                        <p><b>Name:</b> <span>{{profile.user.first_name}} {{profile.user.last_name}}</span></p>
                                        <p><b>Phone number:</b> <span>{{profile.user.phone_number}}</span></p>
                                        <a href="{% url 'dashboard:checkout' %}"><button class="ui primary button" tabindex="-1">Continue to Billing</button></a>
                                    </div>
                                </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
{% block extra_script %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    const ctx = document.getElementById('progress');
    const data = {
        datasets: [{
            data: [{{profile_filled_fields}}, {{profile_empty_fields}}],
            backgroundColor: [
            '#1F51FF',
            '#696969'
            ],
            hoverOffset: 4,
            cutout: 25,
            borderWidth: 0,
            borderColor: 'none'
        }]
    };

    new Chart(ctx, {
        type: 'doughnut',
        data: data,
    });
</script>
{% endblock %}